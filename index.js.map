{"version":3,"file":"index.js","sources":["../src/js/Work_together.js"],"sourcesContent":["const BASE_URL = \"https://portfolio-js.b.goit.study/api\";\r\nconst REQUEST_URL = \"https://portfolio-js.b.goit.study/api/requests\";\r\nconst form = document.querySelector('.form-subscribe');\r\nconst modal = document.querySelector('.model_overlay');\r\nconst modalInfo = document.querySelector('.info_item');\r\n\r\nfunction fetchData(url = BASE_URL, options = {}) {\r\n    return fetch(url, options)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n            }\r\n            return response.json();\r\n    })\r\n}\r\nform.addEventListener(\"submit\", getClick);\r\nfunction getClick(event) {\r\n    event.preventDefault()\r\n    const mail = event.target.elements.email.value;\r\n    const comments = event.target.elements.comment.value;\r\n    fetch(REQUEST_URL, {\r\n    method: \"POST\",\r\n    headers: {\r\n        \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({ email: mail,  comment: comments}),\r\n    \r\n})\r\n.then(response => {\r\n            if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n            }\r\n            return response.json();\r\n})\r\n.then(data => console.log(data))\r\n.then(log => modalInfo.insertAdjacentHTML(\"beforeend\", createMarkup(log)))\r\n.catch(error => console.log(error.message))\r\n} \r\n\r\nfunction createMarkup(arr) {\r\n    modal.classList.remove(\"visibility-hidden\");\r\n    return arr.map(({ title, message }) => `\r\n        <div class=\"text_info\">\r\n        <p>${title}</p>\r\n        </div>\r\n        <div class=\"supporting_text\">\r\n        <p>${message}</p>\r\n        </div>\r\n    `).join(\"\");\r\n}\r\nfunction array(data) {\r\n    Object.keys(data)\r\n}"],"names":["REQUEST_URL","form","modal","modalInfo","getClick","event","mail","comments","response","data","log","createMarkup","error","arr","title","message"],"mappings":"0uBACA,MAAMA,EAAc,iDACdC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,gBAAgB,EAC/CC,EAAY,SAAS,cAAc,YAAY,EAWrDF,EAAK,iBAAiB,SAAUG,CAAQ,EACxC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAgB,EACtB,MAAMC,EAAOD,EAAM,OAAO,SAAS,MAAM,MACnCE,EAAWF,EAAM,OAAO,SAAS,QAAQ,MAC/C,MAAML,EAAa,CACnB,OAAQ,OACR,QAAS,CACL,eAAgB,kBACnB,EACD,KAAM,KAAK,UAAU,CAAE,MAAOM,EAAO,QAASC,CAAQ,CAAC,CAE3D,CAAC,EACA,KAAKC,GAAY,CACN,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAC,EACA,KAAKC,GAAQ,QAAQ,IAAIA,CAAI,CAAC,EAC9B,KAAKC,GAAOP,EAAU,mBAAmB,YAAaQ,EAAaD,CAAG,CAAC,CAAC,EACxE,MAAME,GAAS,QAAQ,IAAIA,EAAM,OAAO,CAAC,CAC1C,CAEA,SAASD,EAAaE,EAAK,CACvB,OAAAX,EAAM,UAAU,OAAO,mBAAmB,EACnCW,EAAI,IAAI,CAAC,CAAE,MAAAC,EAAO,QAAAC,CAAS,IAAK;AAAA;AAAA,aAE9BD,CAAK;AAAA;AAAA;AAAA,aAGLC,CAAO;AAAA;AAAA,KAEf,EAAE,KAAK,EAAE,CACd"}