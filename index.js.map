{"version":3,"file":"index.js","sources":["../src/js/Reviews.js","../src/js/Work_together.js"],"sourcesContent":["import Swiper from 'swiper/bundle';\r\nimport 'swiper/css/bundle';\r\n\r\n// чекаємо завантаження сторінки, щоб уникнути помилок\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    const reviewsList = document.getElementById('reviews-list');\r\n    \r\n    // Функція для додавання відгуків як HTML елементів - приймає масив\r\n    function renderReviews(reviews) {\r\n        // чистимо відгуки\r\n        reviewsList.innerHTML = '';\r\n\r\n        // тут погнала ітерація по відгукам\r\n        reviews.forEach(review => {\r\n            // створюємо новий елемент списку\r\n            const reviewItem = document.createElement('li');\r\n            reviewItem.classList.add('swiper-slide', 'reviews-list-item');\r\n            // заповнення ревью - фотка, ім'я, текст ревью\r\n            reviewItem.innerHTML = `\r\n                <img class=\"review-image\" src=\"${review.avatar_url}\" alt=\"${review.author}\" width=\"48\" height=\"48\">\r\n                <h3 class=\"reviews-names\">${review.author}</h3>\r\n                <p class=\"reviews-text\">${review.review}</p>\r\n            `;\r\n            // створений об'єкт з ревью додаємо у ДОМ\r\n            reviewsList.appendChild(reviewItem);\r\n        });\r\n\r\n        // вирівнюємо висоту доданих елементів\r\n        requestAnimationFrame(equalizeReviewHeights); // Викликаємо на наступному кадрі для коректного вимірювання\r\n    }\r\n\r\n    // щоб всі відгуки були однакової висоти \r\n    // знаходиться максимальна висота відгука і всі інші будуть такої ж висоти\r\n    function equalizeReviewHeights() {\r\n        const reviewItems = document.querySelectorAll('.reviews-list-item');\r\n        let maxHeight = 0;\r\n\r\n        // визначаємо максимальну висоту серед усіх елементів\r\n        reviewItems.forEach(item => {\r\n            item.style.height = 'auto'; // скидаємо висоту, щоб правильно виміряти\r\n            maxHeight = Math.max(maxHeight, item.offsetHeight); // тут знаходимо максимальну висоту\r\n        });\r\n\r\n        // тут робимо максимальну висоту до всіх елементів, ту що виміряли\r\n        reviewItems.forEach(item => {\r\n            item.style.height = `${maxHeight}px`;\r\n        });\r\n    }\r\n\r\n    // функція для отримання відгуків з серверу\r\n    async function fetchReviews() {\r\n        try {\r\n            // Запит для отримання даних\r\n            const response = await fetch('https://portfolio-js.b.goit.study/api/reviews');\r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch reviews');\r\n            }\r\n            const data = await response.json();\r\n            if (data && Array.isArray(data) && data.length > 0) {\r\n                renderReviews(data); // Рендеримо відгуки\r\n            } else {\r\n                reviewsList.innerHTML = '<li style=\"color: red;\">Not found</li>';\r\n            }\r\n        } catch (error) {\r\n            reviewsList.innerHTML = '<li style=\"color: red;\">Not found</li>';\r\n            // це вспливаючий алерт\r\n            alert('reviews not found');\r\n            console.error('Reviews error:', error);\r\n        }\r\n    }\r\n\r\n    // Ініціалізація Swiper після рендерингу відгуків + брейкпоінти\r\n    function initSwiper() {\r\n        const swiper = new Swiper('.swiper', {\r\n            speed: 400,\r\n            spaceBetween: 16,\r\n            slidesPerView: 1,\r\n            navigation: {\r\n                nextEl: '.swiper-button-next',\r\n                prevEl: '.swiper-button-prev',\r\n                disabledClass: 'swiper-button-disabled'\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    slidesPerView: 2,\r\n                    speed: 400,\r\n                    spaceBetween: 16,\r\n                },\r\n                1440: {\r\n                    slidesPerView: 4,\r\n                    speed: 400,\r\n                    spaceBetween: 16,\r\n                },\r\n            },\r\n        });\r\n\r\n        // обробка дизейблингу кнопок\r\n        swiper.on('slideChange', function () {\r\n            const prevButton = swiper.navigation.prevEl;\r\n            const nextButton = swiper.navigation.nextEl;\r\n\r\n            // саме тут дізейблимо кнопки\r\n            prevButton.disabled = swiper.isBeginning;\r\n            nextButton.disabled = swiper.isEnd;\r\n        });\r\n    }\r\n\r\n    // ну і завантажуємо отримані відгуки\r\n    fetchReviews().then(() => {\r\n        initSwiper();\r\n    });\r\n});\r\n","const BASE_URL = \"https://portfolio-js.b.goit.study/api\";\r\nconst REQUEST_URL = \"https://portfolio-js.b.goit.study/api/requests\";\r\nconst form = document.querySelector('.form-subscribe');\r\nconst modal = document.querySelector('.model_overlay');\r\nconst modalInfo = document.querySelector('.info_item');\r\n\r\nfunction fetchData(url = BASE_URL, options = {}) {\r\n    return fetch(url, options)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n            }\r\n            return response.json();\r\n    })\r\n}\r\nform.addEventListener(\"submit\", getClick);\r\nfunction getClick(event) {\r\n    event.preventDefault()\r\n    const mail = event.target.elements.email.value;\r\n    const comments = event.target.elements.comment.value;\r\n    fetch(REQUEST_URL, {\r\n    method: \"POST\",\r\n    headers: {\r\n        \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({ email: mail,  comment: comments}),\r\n    \r\n})\r\n.then(response => {\r\n            if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n            }\r\n            return response.json();\r\n})\r\n.then(data => console.log(data))\r\n.then(log => modalInfo.insertAdjacentHTML(\"beforeend\", createMarkup(log)))\r\n.catch(error => console.log(error.message))\r\n} \r\n\r\nfunction createMarkup(arr) {\r\n    modal.classList.remove(\"visibility-hidden\");\r\n    return arr.map(({ title, message }) => `\r\n        <div class=\"text_info\">\r\n        <p>${title}</p>\r\n        </div>\r\n        <div class=\"supporting_text\">\r\n        <p>${message}</p>\r\n        </div>\r\n    `).join(\"\");\r\n}\r\nfunction array(data) {\r\n    Object.keys(data)\r\n}"],"names":["reviewsList","renderReviews","reviews","review","reviewItem","equalizeReviewHeights","reviewItems","maxHeight","item","fetchReviews","response","data","error","initSwiper","swiper","Swiper","prevButton","nextButton","REQUEST_URL","form","modal","modalInfo","getClick","event","mail","comments","log","createMarkup","arr","title","message"],"mappings":"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"}